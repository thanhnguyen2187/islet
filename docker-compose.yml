version: "3.7"

services:

  watchtower:
    image: containrrr/watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - /root/.docker/config.json:config.json
    command: --interval 30

  islet-site:
    restart: always
    image: thanhnguyen2187/islet-site
    ports: ["1313:1313"]

  web-server:
    restart: always
    image: caddy:2.4.0-alpine
    volumes:
      - ./Caddyfile:/etc/caddy/Caddyfile
    network_mode: host
